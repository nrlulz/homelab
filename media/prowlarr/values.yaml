pvc:
  pvcName: prowlarr-data
  storageRequest: 128Mi
  moverSecurityContext:
    runAsUser: 1000
    runAsGroup: 1000
    fsGroup: 1000

app-template:
  defaultPodOptions:
    securityContext:
      runAsNonRoot: true
      runAsUser: 1000
      runAsGroup: 1000
      fsGroup: 1000
      fsGroupChangePolicy: OnRootMismatch
  controllers:
    prowlarr:
      containers:
        prowlarr:
          image:
            repository: ghcr.io/home-operations/prowlarr
            tag: 2.0.5@sha256:47cede4c9e57c53af75b8b6e1382576ede241b9d847733ba449d723ca8cb51c8
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            capabilities:
              drop:
                - ALL
            seccompProfile:
              type: RuntimeDefault
          env:
            TZ: "America/Los_Angeles"
          probes:
            liveness: &probe
              enabled: true
              custom: true
              spec:
                httpGet:
                  path: /ping
                  port: 9696
            readiness: *probe
  service:
    prowlarr:
      controller: prowlarr
      ports:
        http:
          port: 9696
  ingress:
    prowlarr:
      className: internal
      hosts:
        - host: prowlarr.internal.neils.house
          paths:
            - path: /
              service:
                identifier: prowlarr
                port: http
  persistence:
    config:
      existingClaim: prowlarr-data
